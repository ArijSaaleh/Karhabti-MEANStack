<div class="main">
  <br /><br /><br />
  <script text="text/javascript">
    var gauge = new RadialGauge({
    renderTo: 'gauge',
    width: 300,
    height: 300,
    units: "RPM",
    value: 35,
    minValue: 0,
    startAngle: 90,
    ticksAngle: 180,
    valueBox: true,
    maxValue: 100,
    majorTicks: [
        "0",
        "20",
        "40",
        "60",
        "80",
        "100",
    ],
    minorTicks: 2,
    strokeTicks: true,
    highlights: [
        {
          "from": 0,
          "to": 60,
          "color": "rgba(100, 255, 100, .2)"
        },
        {
          "from": 60,
          "to": 80,
          "color": "rgba(220, 200, 0, .75)"
        },
        {
            "from": 80,
            "to": 100,
            "color": "rgba(200, 50, 50, .75)"
        }
    ],
    colorPlate: "#fff",
    borderShadowWidth: 0,
    borders: false,
    needleType: "arrow",
    needleWidth: 5,
    needleCircleSize: 2,
    needleCircleOuter: true,
    needleCircleInner: false,
    animationDuration: 1500,
    animationRule: "linear"
}).draw();


setInterval(function() {

  // update the above chart...
  var value = Math.round(Math.random() * 100);
  gauge.value = value;

  // Update the declarative chart...
  document.getElementById("gauge-a").setAttribute("data-value", value);
}, 1800);
  </script>
  <div class="name">
    <br /><br />
    <h2>{{ message }}</h2>
  </div>

  <div class="container-md" *ngIf="authenticated">
    <div class="row">
      <div class="col-3">
        <h4 style="color: white">Vehicles List</h4>
        <ul class="list-group">
          <li
            class="list-group-item"
            *ngFor="let veh of vehicles; let i = index"
            [class.active]="i == currentIndex"
            (click)="setActiveVeh(veh, i)"
          >
            {{ veh.CarName }}
          </li>
        </ul>
      </div>
      <div class="col-9">
        <div *ngIf="currentVeh">
          <h4>{{ currentVeh.CarName }}</h4>
          <div>
            <label><strong>Nom:</strong></label> {{ currentVeh.CarName }}
          </div>
          <div>
            <label><strong>OBD:</strong></label>
            {{ currentVeh.obd_token }}
          </div>
          <div>
            <label><strong>Status:</strong></label>

            <ngx-gauge [thresholds]="thresholdConfig" [value]="currentVeh.infos[currentVeh.infos.length - 1].SPEED ">
              [label]="gaugeLabel" [append]="gaugeAppendText">
            </ngx-gauge>
            <canvas class="fuel"  data-type="radial-gauge"
            type="semi"
            data-width="300"
            data-height="300"
            data-title="Fuel"
            data-min-value="0"
            data-max-value="100"
            data-major-ticks="Max,c,b,a,0"
            data-minor-ticks="5"
            data-stroke-ticks="true"
            data-value="100"
            data-highlights='[ {"from": 80, "to": 100, "color": "rgba(0,0, 255, .3)"},
                {"from": 0, "to": 20, "color": "rgba(255, 0, 0, .3)"} ]'
            data-ticks-angle="110"
            data-start-angle="180"
        data-color-major-ticks="#ddd"
            data-color-minor-ticks="#ddd"
            data-color-title="#eee"
            data-color-units="#ccc"
            data-color-numbers="#eee"
            data-color-plate="#222"
            data-border-shadow-width="0"
            data-borders="true"
            data-needle-type="arrow"
            data-needle-width="2"
            data-needle-circle-size="7"
            data-needle-circle-outer="true"
            data-needle-circle-inner="false"
            data-animation-duration="1500"
            data-animation-rule="linear"
            data-color-border-outer="#333"
        data-color-border-middle-end="#111"
            data-color-border-inner="#111"
            data-color-border-inner-end="#333"
            data-color-needle-shadow-down="#333"
            data-color-needle-circle-outer="#333"
            data-color-needle-circle-outer-end="#111"
            data-color-needle-circle-inner="#111"
            data-color-needle-circle-inner-end="#222"
            data-value-box-border-radius="0"
            data-color-value-box-rect="#222"
            data-color-value-box-rect-end="#333"

            ></canvas>

          </div>
          <a class="" routerLink="/"> Edit </a>
        </div>
        <div *ngIf="!currentVeh">
          <br />
          <p style="text-align: center">Please select a Car...</p>
        </div>
      </div>
    </div>
  </div>
  <br /><br /><br /><br /><br />
</div>
